- cache_i18n ['director_events', current_user, Competition] do
  - unless @director_events.empty?
    %h1 My Event Director Events

    %table
      %thead
        %tr
          %th Event
          %th Competition
      %tbody
        - @director_events.each do |event|
          - event.competitions.each do |competition|
            %tr
              %td= event
              %td= link_to "Manage #{competition}", competition, class: 'action_button'
    %hr

- unless @judges.empty?
  %h1 My Judging Events

  %table
    %thead
      %tr
        %th Enter Judging Scores for
    %tbody
      - @judges.each do |judge|
        %tr
          - if judge.competition.locked?
            %td= scoring_link(judge, class: 'locked_competition_action')
          - else
            %td= scoring_link(judge, class: 'action_button')
  %hr

%h1 Data Entry Menu

.data_entry_choices
  Please choose the event that you want to enter data for:

  %table.sortable
    %thead
      %tr
        %th Competition End
        %th Category
        %th Event
        %th Competition
        %th Status
    %tbody
      - cache_i18n [Competition, current_user] do
        - Competition.with_roles([:race_official, :data_recording_volunteer], current_user).find_each(batch_size: 10) do |competition|
          - cache_i18n [competition] do
            %tr
              %td= competition.end_time_to_s
              %td= competition.event.category
              %td= competition.event
              %td= # links to data entry recording pages...or perhaps a menu of those pages
              %td= link_to competition.name, competition # remove this link?
              - competition_presenter = CompetitionPresenter.new(competition)
              %td{ class: competition_presenter.status_code}= competition_presenter.status
  %p
    If you don't see the event that you need, please contact an administrator (or use the "Help" menu to send me an e-mail).
