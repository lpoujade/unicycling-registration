%h1 My Judging Events

%ul
  - @judges.each do |judge|
    %li= scoring_link(judge)

%hr

%h1 Results Summary
%table.sortable
  %thead
    %tr
      %th Cat
      %th Event
      %th Competition
      %th #Signed up
      %th #Assigned Registrants
      %th #Competitors
      %th #Results
  %tbody
    - Competition.all.each do |competition|
      %tr
        %td= competition.event.category
        %td= competition.event
        %td= competition.name
        - reg_style = "warning" unless competition.all_registrants_are_competitors?
        %td{class: reg_style}= competition.signed_up_registrants.count
        %td{class: reg_style}= competition.num_assigned_registrants
        - style = "warning" unless competition.has_results_for_all_competitors?
        %td{class: style}= competition.num_competitors
        %td{class: style}= competition.num_results


%h1 All Events/Competitions/Details

%h2= link_to "Registrants", registrants_path

%h2= link_to "Payments", summary_payments_path

%h2= link_to "Categories/Events", summary_events_path
- Category.all.each do |category|
  %h3= category
  - category.events.each do |event|
    %h4= link_to event, event_path(event)
    %p= link_to "Sign Ups", sign_ups_event_path(event)
    - event.event_categories.each do |ecat|
      %span.minor= link_to "#{ecat} Sign Ups", sign_ups_event_category_path(ecat)
    %p= link_to "Results", results_printing_event_path(event)
    %h5 Competitions
    %table.sortable
      %thead
        %tr
          %th Competition
          %th Judges
          %th Lane Assignments
          %th Competitor Management
          %th Announcer Sheet
          %th Results Recording
          %th Results Entry
          %th Results Summary
          %th Lock
      %tbody
        - event.competitions.each do |competition|
          %tr
            %td= competition
            %td= link_to "Manage", competition_judges_path(competition)
            %td= link_to "Enter", competition_lane_assignments_path(competition)
            %td= link_to "Manage", competition_competitors_path(competition)
            %td= link_to "(pdf)", announcer_printing_competition_path(competition)
            %td= "No Link (yet)"
            %td= link_to "Import", user_competition_import_results_path(current_user, competition)
            %td= link_to "View", result_competition_path(competition)
            %td= link_to "Lock", lock_competition_path(competition)




