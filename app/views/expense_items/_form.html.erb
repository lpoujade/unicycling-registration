<%= form_for(@expense_item) do |f| %>
  <% if @expense_item.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@expense_item.errors.count, "error") %> prohibited this expense_item from being saved:</h2>

      <ul>
      <% @expense_item.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= f.label :expense_group_id %>
    <%= f.select :expense_group_id, ExpenseGroup.all.map {|eg| [eg.group_name, eg.id] }  %>
    <br />
    <% languages.each do |lang| %>
      <%= f.globalize_fields_for lang do |g| %>
        <b><%= long_language_name(lang) %></b><br />
        <%= g.label :name %>
        <%= g.text_field :name %>
        <br />
        <%= g.label :description %>
        <%= g.text_field :description %>
        <br />
        <%= g.label :details_label, "Details (What details do we want to ask the user for)" %>
        <%= g.text_field :details_label %>
        <br />
        <br />
      <% end %>
    <% end %>
    <%= f.label :has_details %>
    <%= f.check_box :has_details %>
    <br />
    <br />
    <%= f.label :has_custom_cost %>
    <%= f.check_box :has_custom_cost %>
    <br />
    <br />
    <%= f.label :cost %>
    <%= f.text_field :cost %>
    <br />
    <%= f.label :tax_percentage %>
    <%= f.number_field :tax_percentage, :step => 0.001 %>
    <br />
    <%= f.label :export_name %>
    <%= f.text_field :export_name %>
    <br />
    <%= f.label :position %>
    <%= f.number_field :position %>
    <br />
    <%= f.label :maximum_available %> (How many are available for sale)
    <%= f.number_field :maximum_available %>
    <br />
    <%= f.label :maximum_per_registrant %> (How many are permitted for each registrant)
    <%= f.number_field :maximum_per_registrant %>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>
