<% # variable 'form' is being passed in %>
<%= render :partial => "/shared/error_messages", :object => form %>
<%= form_for [form.competition, form] do |f| %>
  <%= f.label :position %><%= f.text_field :position %><br />
  <%= f.label :registrant_ids %><%= f.select :registrant_ids, Registrant.where(:competitor => true).map{ |reg| [reg.with_id_to_s, reg.id] }, {}, {:multiple => true, :size => 20, :include_blank => true } %><br />
  <%= f.label :custom_external_id %><%= f.text_field :custom_external_id %><br />
  <%= f.label :custom_name %><%= f.text_field :custom_name %><br />

  <%= f.submit %>
<% end %>

<hr />
<%= link_to 'Add All', add_all_competition_competitors_path(form.competition), data: {confirm: 'Are you sure you want to add ALL registrants?' }, method: :post %>
<br />
<%= link_to 'Destroy All', destroy_all_competition_competitors_path(form.competition), data: { confirm: 'Are you sure you want to Destroy ALL competitors?' }, method: :delete %>
