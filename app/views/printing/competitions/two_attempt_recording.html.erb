<%= render partial: "recording_form_header", locals: { competition: @competition, is_start_times: @is_start_times } %>
<div class="race_recording">
  <% @competition_sign_up.age_group_entries.each do |description, gender| %>
    <div class="nobreak">
      <h2 class="age_group_description"><%= description %></h2>
      <h2 class="age_group_gender"><%= gender %></h2>
      <div style="clear: both"></div>
      <hr />

      <table class="full grid race">
        <thead>
          <tr>
            <th class="id">ID</th>
            <th class="name">Name</th>
            <th class="attempt">Attempt 1</th>
            <th class="attempt">Attempt 2</th>
          </tr>
        </thead>
        <tbody>
          <%= render partial: "attempt_entry_sample" %>
          <% @competition_sign_up.signed_up_list(description).each do |reg| %>
            <%= render :partial => "attempt_entry", :locals => {:id => reg.bib_number, :name => reg.to_s, :not_signed_up => false } %>
          <% end %>
          <% @competition_sign_up.not_signed_up_list(description).each do |reg| %>
            <%= render :partial => "attempt_entry", :locals => {:id => reg.bib_number, :name => reg.to_s, :not_signed_up => true } %>
          <% end %>
          <% 5.times do %>
            <%= render :partial => "attempt_entry", :locals => {:id => nil, :name => nil, :not_signed_up => false} %>
          <% end %>
        </tbody>
      </table>
      <% if @no_page_breaks %>
        <hr class="age_group_separator" />
      <% else %>
        <div class="page-break"></div>
      <% end %>
    </div>
  <% end %>
</div>
