<div class="non_printable">
  <%= link_to 'Bag Labels PDF', bag_labels_admin_registrants_path %>
  <%= link_to 'All Registrants (pdf)', all_summary_admin_registrants_path(:format => :pdf) %>
</div>

<h1>Edit Registrants</h1>

<table class="sortable">
  <thead>
    <tr>
      <td>Status</td>
      <th>ID</th>
      <th>Last Name</th>
      <th>First Name</th>
      <th class="non_printable">Summary</th>
      <th class="non_printable">Edit</th>
      <th class="non_printable">Deleted?</th>
      <th class="non_printable">User</th>
    </tr>
  </thead>
  <tbody>
  <% @registrants.each do |registrant| %>
    <tr>
      <% if registrant.has_double_free %>
        <td class="needs_free_fix">Bad (Simple)</td>
      <% elsif registrant.has_complex_double_free %>
        <td class="needs_free_fix">Bad (complex)</td>
      <% else %>
        <td class="free_good">Good</td>
      <% end %>
      <td><%= registrant.bib_number %></td>
      <td><%= registrant.last_name %></td>
      <td><%= registrant.first_name %></td>
      <td class="non_printable"><%= link_to "Summary", registrant_path(registrant) %>
        <%= link_to "(pdf)", registrant_path(registrant, :format => :pdf) %>
      </td>
      <td class="non_printable">
        <%= link_to "Events", edit_registrant_path(registrant) %>
        <%= link_to "Items", items_registrant_path(registrant) %>
      </td>
      <td class="non_printable">
        <% if registrant.deleted %>
          <%= link_to 'Undelete', undelete_admin_registrant_path(registrant), :method => :post %>
        <% end %>
      </td>
      <td class="non_printable"><%= registrant.user %></td>
    </tr>
  <% end %>
</table>
