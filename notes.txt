TO DO (MUST be done BEFORE LIVE):
 - Remove club_admin column (using rolify now)
 - Create ability to invite people for clubs admin
 - Restrict permsissions of "admin" user to ????
 - Add ability for admin user to see payments
 - Link from Registration to StandardSkillRoutine entry form, only for those with Standard Skill Event selected?
 - Add tests which ensure that the layout/application is working correctly (was broken when not signed in)

- mixpanel revenue?
 - Improve the "success" page (http://reg.uninationals2013.com/payments/success?tx=8PY73818JH738005M&st=Completed&amt=120.00&cc=USD&cm=&item_number=)
- Add Administrative Options similar to what we had on the old registration site:

 - PayPal
  - Prevent people from starting a payment, and then finishing it months later for cheap.
 - Prevent changing a payment's contents after it is _paid_
 - Make a note that the Name/Country is listed for all registrants to see.
 - Try it with different browsers
 - Can I make the Payment deadline "listed + 1 day"?

TO DO (MUST be done SOON after LIVE (if not before)):
 - Follow hugo's example for configuration blocks.
 - Ensure that payments from the previous payment period are stored properly during movement
 - Export/Import functions for the WHOLE dataset?
 - Payments page which lists all Unpaid Registrations (and e-mail contact info?)
 - Multi-Edit (allows updating the selection of multiple people's choices)
 - Multi-record delete (allows removing multiple people from an event sign-up)
 - Enter a "Wire Payment" (also, mark a registration/etc as paid, for some reason)
 - Log all logs to an external (persistent) store
 - :dependent => :restrict


TO DO (SHOULD be done):
 - Fix some styling of the page, to make it easier to follow the flow of the system.
 - Admin should be able to "receive a cheque"
  - This allows an admin to mark a record/item as paid without PayPal
  - ReceivedCheque should have "notes"
 - Perhaps don't show the "name" of the registration Periods (it's confusing?)
  - It's still showing during the payment-process steps
  **
  - CLEARER that kids must have a Parent/Guardian sign the waiver form. (page for waiver)
 - Add javascript tests for event_choice#autocomplete
 - Re-arrange StandardSkillRoutineEntry/StandardSkillRoutine validations (move into Routine)
 - JS/CSS for standardSkill should be moved into asset pipeline
 - Ability to read StandardSkill Routines even after Online Registration is closed.
 - Ability to print PDF of standard Skill Routine, for practicing by competitor?


TO DO (NICE to be done):
 - Admin page for the events page....should show num people signed up vs num people signed-up-and-paid.
 - Add something that helps describe What "Category" to sign up for when choosing "Individual Freestyle" (Categories are: "Age Group", "Jr. Expert", "Expert").
 - default sort orders (all models?)
 - Improve the "Summary" page to be prettier, and better at printing.
 - Test the site on multiple browsers
 - User Test the site to see about usability improvements
 - Integrate with USA Membership site
 - Add notice to entice Non-Competitors to become Competitors
 - Add ability to mark a Registration as paid, to deal with "Dave said that I could go for free" scenario(s).
 - Serve the logo from a better (cached) fashion
 - Allow sortnig of the "all registrants" page according to the columns (use jquery?)
 - expense items be destroyed when an expenseGroup is destroyed
 - Prevent events from having no position-1-event-choice-boolean

Scott's suggestions:
 - Admin should be able to identify Who+WHAT has been received/paid for.
 - Pay now gets its own line
 - Payment page checkmarks with running total. When boxes are checked, highlight line.
 - Immediate errors display when typing in.
 - How do we get BEST TIMES?
 - Automatically start the rails server when vagrant starts
 - All registrants page, able to sort.
 - All registrants page, add 'state' column?

Caitlin's Notes:
 - Don't need a phone number?
  - Why need an emergency contact phone number, but not mine.
 - should be instructions for "print and sign" the waiver?
 - After adding a new thing, goes to the T-Shirt page again....want to go back to the registration summary page.
  - Need to deal with how to get to the T-Shrit page....?
  - "Save and return to Registrant List"

Denis:
- Treats the sign-in as a sign-up.
- Where do I provide e-mail my e-mail address
- "What am I doing on the t-shirt page"?
- "Show my registrations" means "about robin's competitions?"
 - I can use "My registrations" to create new.
 - "Done" or "new registraiton"?
- Is team required to be asked for a non-competitor?
- Always go back to the Registration smumary page (on return from the payment success)
- How do I finish?
 - Make the Waiver thing biggenr, bolder, etc. make it a apage in the flow.

NEED To make the registration deadlines clear.
- Exiting with a balance due, cause a popup?

Mom:
- "New Competitor" as a button isn't clear. it looks like a banner/description.
 - "Click here" 
- "Why is Legal Waiver" in red? I can ignore the Red, I guess.
- "Legal Waiver" is still showing in red? why?
- Need to tell the person that an e-mail will be sent to them with their payment details.

Connie:
- Why is the address below the events
- Can we add "levels" to the Indiviudal/Pairs categores
- Are we doing Standard skill?
- Validate the age of competitors for Individual freestyle categores?
- R: I don't like the fact that I need to scroll on the "Items" page.

Robin:
- do we want to describe why register as a non-competitor.

-------------

TODO (flesh out and implement)
BestTimeType:
- Name
- Description
- Initial Value
- Increment step(s)?

To Be answered by the Event Organizers:

 Should not be able to change the type of a given field once created.
 Should warn about changing the name of an event, because it may change the value of the....
 Cascade delete....

N+1 queries
Validations from RecordValidator

Check that the placeholder text works in other browsers, or add jquery fix for it?
 - add http://selectivizr.com/ ??
CSS Reset?
smidget?
prevent form leaving modified form page
Try different ways of displaying the Event Catgories.
Use SASS to inherit css properties.

Add Tests for when a configuration doesn't exist yet (ensure the site loads/etc)

Possibly use "stripes" for the creditcard vendor.
Competitor Information is Almost never Changed.

Better way to navigate back to Registrants page.
Make the Pay Now a button-like-thing.. For a Sinlge Registrant, Make the Pay Now part of the regsitration.
add ability to restrict deletion of registrants and users, if there are related records in payments.


UNICON 2012 data analysis:
1477 User Accounts
885 of those users actually Have a registrant
1844 Registrations


select num_records, count(*) as registrants_per_user, (num_records*count(*)) as total_registrations, ((num_records*count(*)) / 1844 * 100) as perc from (select count(*) as num_records from reg_user INNER JOIN reg_registration ON reg_user.userid = reg_registration.userid  group by reg_user.userid) as A group by num_records

num_records registrants_per_user    total_registrations perc
1   578 578 31.3449
2   128 256 13.8829
3   68  204 11.0629
4   57  228 12.3644  67% 4-or-less
5   20  100 5.4230
6   6   36  1.9523  There are ~30 users below this, accounting for 25% of my registrants (small, but powerful)
8   4   32  1.7354
11  1   11  0.5965
12  5   60  3.2538
13  4   52  2.8200
14  2   28  1.5184
16  2   32  1.7354
17  1   17  0.9219
19  1   19  1.0304
20  2   40  2.1692
21  1   21  1.1388
22  1   22  1.1931
24  1   24  1.3015
25  1   25  1.3557
29  1   29  1.5727
30  1   30  1.6269

488 - Non Competitor
1356 - Competitor

1350 Payments
899 Payments (after removing 'excel' and 12345 transactions).

How many payments were made against only one record at a time:

1   658 73.1924
2   97  10.7898
3   41  4.5606
4   43  4.7831
5   13  1.4461
6   6   0.6674
7   3   0.3337
8   4   0.4449
9   5   0.5562
10  1   0.1112
11  2   0.2225
12  4   0.4449
13  3   0.3337
14  2   0.2225
15  1   0.1112
17  2   0.2225
18  1   0.1112
19  1   0.1112
20  3   0.3337
21  3   0.3337
22  1   0.1112
23  3   0.3337
25  1   0.1112
28  1   0.1112

Best Times:
400 chose 100m
360 chose 10k
100 chose marathon



NAUCC 2011
229 User Accounts
How many actually have registrants: 229
227 Competitors
91 Non-Competitors

318 Registrantions

Number of registrants per user:
1 108 108 47% -> 34%
2 27  54  23% -> 16%
3 16  48  21% -> 15%
4 11  44  19% -> 14%
5 4   20  8%  -> 5%
6 2   12  5%  -> 4%
32 1  32  14% -> 10%



Number of registrants per payment:
199 Payments5

1 141 47%
2 24  16%
3 17  17
4 11  14
5  3  5
6  2  4
15 1  5


Best Times:
13 ppl chose 100m
10 ppl chose 400m
21 ppl chose 10k
9 ppl chose marathon




For Nan:
- CSS Reset?
- Style of the a hrefs, so that they are visible.
- Help with the banner

- Registration Periods should have unique expense items (so that we can directly match a payment) (ie. No two registration periods should have the same expense items)
- Registration Preidos should also have unique items between comp and non-comp
- Add more destroy-restrict codes (see payment_detail<->expense_item)


